:root {
    --primary: #003366;
    --secondary: #2e8b57;
    --bg: #f4f7f6;
    --white: #fff;
    --danger: #c0392b;
    --text: #333;
}

body { font-family: 'Tajawal', sans-serif; background: var(--bg); margin: 0; color: var(--text); }
* { box-sizing: border-box; }

/* Loader */
#loader { position: fixed; inset: 0; background: var(--white); display: flex; justify-content: center; align-items: center; z-index: 999; font-weight: bold; color: var(--primary); }

/* Common */
.btn { padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; font-family: inherit; font-weight: bold; transition: 0.3s; }
.btn-primary { background: var(--primary); color: white; }
.btn-secondary { background: var(--secondary); color: white; }
.btn-danger { background: var(--danger); color: white; }
.small { padding: 5px 10px; font-size: 0.8rem; }
.input-field, select { width: 100%; padding: 10px; margin: 5px 0; border: 1px solid #ddd; border-radius: 5px; }

/* Auth */
#auth-view { height: 100vh; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, var(--primary), #111); }
.auth-card { background: white; padding: 30px; border-radius: 10px; width: 90%; max-width: 400px; text-align: center; }
.role-switch { display: flex; gap: 10px; margin-bottom: 20px; justify-content: center; }
.role-btn { background: #eee; border: none; padding: 8px 15px; border-radius: 20px; cursor: pointer; }
.role-btn.active { background: var(--primary); color: white; }
.login-logo { width: 80px; }

/* Dashboard & Student Portal */
header { background: white; padding: 10px 30px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
.brand { display: flex; align-items: center; gap: 10px; font-weight: bold; color: var(--primary); }
.header-logo { height: 40px; }
.container { padding: 20px; max-width: 1200px; margin: 0 auto; }

/* Tabs */
.tabs { margin: 20px 0; display: flex; gap: 10px; }
.tab-btn { background: white; border: 1px solid #ddd; padding: 10px 20px; cursor: pointer; border-radius: 5px; }
.tab-btn.active { background: var(--primary); color: white; border-color: var(--primary); }
.tab-content { display: none; background: white; padding: 20px; border-radius: 10px; animation: fadeIn 0.3s; }
.tab-content.active { display: block; }

/* Table */
.table-responsive { overflow-x: auto; }
table { width: 100%; border-collapse: collapse; margin-top: 10px; }
th, td { padding: 12px; text-align: right; border-bottom: 1px solid #eee; }
th { background: var(--primary); color: white; }
tr:hover { background: #f9f9f9; }

/* Stats */
.stats-bar { display: flex; gap: 20px; margin-bottom: 20px; }
.stat-box { background: white; padding: 15px; border-radius: 5px; flex: 1; text-align: center; font-weight: bold; border-right: 4px solid var(--secondary); }

/* File Upload */
.file-label { display: block; border: 2px dashed #ddd; padding: 20px; text-align: center; margin: 10px 0; cursor: pointer; border-radius: 5px; }
input[type="file"] { display: none; }
.form-stack { display: flex; flex-direction: column; gap: 10px; }

/* Student View */
.grid-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
.card { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }

/* Animation */
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

/* إعدادات الطباعة (مهمة جداً للمدير) */
@media print {
    body { background: white; }
    header, .tabs, .no-print, #auth-view, .stats-bar, .form-grid { display: none !important; }
    .tab-content { display: block !important; border: none; box-shadow: none; }
    th { background: #ccc !important; color: black !important; }
    table { border: 1px solid black; }
    th, td { border: 1px solid black; }
    /* إخفاء التبويبات غير النشطة عند الطباعة */
    .tab-content:not(.active) { display: none !important; }
}
